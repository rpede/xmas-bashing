<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>nushell | Xmas Bashing</title><meta name=description content="A Christmas calendar focusing on bash scripting"><meta name=author content="LUG Esbjerg"><meta property="og:type" content="article"><meta property="og:url" content="https://rpede.github.io/xmas-bashing/blog/24/"><meta property="og:title" content="nushell"><meta property="og:description" content="A Christmas calendar focusing on bash scripting"><meta property="twitter:card" content="summary"><meta property="twitter:url" content="https://rpede.github.io/xmas-bashing/blog/24/"><meta property="twitter:title" content="nushell"><meta property="twitter:description" content="A Christmas calendar focusing on bash scripting"><link rel=canonical href=https://rpede.github.io/xmas-bashing/blog/24/><link rel=alternate type=application/rss+xml href=/index.xml title="Xmas Bashing"><link rel=icon type=image/x-icon href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"nushell","url":"https:\/\/rpede.github.io\/xmas-bashing\/blog\/24\/","datePublished":"2025-12-24T00:00:00Z","dateModified":"2025-12-24T00:00:00Z","description":"A Christmas calendar focusing on bash scripting","author":{"@type":"Person","name":"LUG Esbjerg"}}</script><link rel=preload href=/xmas-bashing/fonts/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/xmas-bashing/css/style.min.5ce1f93f36c4e8e221dd4c3f3f5b98ac9dabd9f6d2d163031124a31b637cfa24.css integrity="sha256-XOH5PzbE6OIh3Uw/P1uYrJ2r2fbS0WMDESSjG2N8+iQ="><script>(function(){const e=localStorage.getItem("theme")||"light",t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=e!=="light"&&(e==="dark"||t)?"dark":"light";n==="dark"&&document.documentElement.setAttribute("data-theme","dark")})()</script></head><body><div class=container><header class=site-header><div class=header-content><a href=/ class=site-title>Xmas Bashing</a><div class=header-right><nav class=site-nav><ul><li><a href=/xmas-bashing/ class=nav-link>home</a></li><li><a href=/xmas-bashing/blog class=nav-link>blog</a></li></ul></nav><button id=theme-toggle class=theme-toggle aria-label="Toggle dark mode" title="Toggle theme">
<svg class="theme-icon moon-icon" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 01-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 009 9c.239.0.254.018.488.0A9.004 9.004.0 0112 21z"/></svg>
<svg class="theme-icon sun-icon hidden" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5V3m0 18v-2M7.05 7.05 5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636 16.95 7.05M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg></button></div></div></header><main class=content><nav class=breadcrumb aria-label=breadcrumb><ul><li><a href=/>home</a></li><li><span>nushell</span></li></ul></nav><article class=post><header class=post-header><h1 class=post-title>nushell</h1><time class=post-date datetime=2025-12-24T00:00:00Z>Dec 24, 2025</time></header><div class=post-content><h2 id=intro>Intro</h2><pre tabindex=0><code>You&#39;ve mastered bash.
You are piping from one command to another effortless.
You use `cut`, `tr`, `sed`, `awk`, `grep` etc to transform data from one
command to the next.
You are starting to wonder.
What if you didn&#39;t have to transform data?
What if the data had a little more structure?
What if commands understood each other?
</code></pre><p>Presenting <a href=https://www.nushell.sh/>nushell</a>.
It is a reimagining of a shell, that works with structured data.</p><h2 id=install>Install</h2><p><strong>Ubuntu/Debian</strong></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>wget -qO- https://apt.fury.io/nushell/gpg.key <span style=color:#eceff4>|</span> sudo gpg --dearmor -o /etc/apt/keyrings/fury-nushell.gpg
</span></span><span style=display:flex><span><span style=color:#81a1c1>echo</span> <span style=color:#a3be8c>&#34;deb [signed-by=/etc/apt/keyrings/fury-nushell.gpg] https://apt.fury.io/nushell/ /&#34;</span> <span style=color:#eceff4>|</span> sudo tee /etc/apt/sources.list.d/fury.list
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install nushell
</span></span></code></pre></div><p><strong>Arch Linux</strong></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>sudo pacman -Sy nushell
</span></span></code></pre></div><h2 id=first-steps>First steps</h2><p>After installation, you can start a nushell session by typing <code>nu</code> in your
existing shell.</p><p>As a quick demo, let&rsquo;s try and see what processes take up a lot (more than
500mb) of memory on our system.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>ps</span> <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>sort</span>-by mem <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>where</span> mem &gt; 500mb
</span></span></code></pre></div><p>If we try the same in bash, we might end up with something like this.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ps -eo pid,rss,comm --sort<span style=color:#81a1c1>=</span>-rss <span style=color:#eceff4>|</span> awk <span style=color:#a3be8c>&#39;$2 &gt; 512000 { print }&#39;</span>
</span></span></code></pre></div><p>Notice how the nushell version outputs in a neatly formatted table.</p><h2 id=formats>Formats</h2><p>When nushell understands the structure of the data, it is able to output in a nice
table.</p><p>Here is an example with JSON:</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>http</span> <span style=color:#81a1c1;font-weight:700>get</span> https://v2.jokeapi.dev/joke/Programming?type<span style=color:#81a1c1>=</span>single
</span></span></code></pre></div><p>We can easily extract a field.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>http</span> <span style=color:#81a1c1;font-weight:700>get</span> https://v2.jokeapi.dev/joke/Programming?type<span style=color:#81a1c1>=</span>single <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>get</span> joke
</span></span></code></pre></div><p>Or multiple.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>http</span> <span style=color:#81a1c1;font-weight:700>get</span> https://v2.jokeapi.dev/joke/Programming?type<span style=color:#81a1c1>=</span>twopart <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>select</span> setup delivery
</span></span></code></pre></div><p>It can also output in various formats.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>http</span> <span style=color:#81a1c1;font-weight:700>get</span> https://v2.jokeapi.dev/joke/Programming?type<span style=color:#81a1c1>=</span>single <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>to</span> yaml
</span></span></code></pre></div><p>See <a href=https://www.nushell.sh/book/loading_data.html>loading data</a>.</p><h2 id=functions>Functions</h2><p>The syntax for functions is quite different from bash.
A nice thing is that parameters have a name.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>def</span> hello <span style=color:#81a1c1>[</span>name<span style=color:#81a1c1>]</span> <span style=color:#81a1c1>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a3be8c>$&#34;Hello </span><span style=color:#a3be8c>(</span>$name<span style=color:#a3be8c>)</span><span style=color:#a3be8c>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hello world
</span></span></code></pre></div><p>See <a href=https://www.nushell.sh/book/custom_commands.html>custom functions</a>.</p><h2 id=variables>Variables</h2><p>They can be declared as immutable (can&rsquo;t be reassigned) with <code>let</code> and mutable
(can be reassigned) with <code>mut</code>.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>let</span> name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;Bob&#34;</span>
</span></span><span style=display:flex><span>$name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;Alice&#34;</span>
</span></span></code></pre></div><p>Where line 2 will error.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>mut</span> name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;Bob&#34;</span>
</span></span><span style=display:flex><span>$name <span style=color:#81a1c1>=</span> <span style=color:#a3be8c>&#34;Alice&#34;</span>
</span></span></code></pre></div><h2 id=control-structures>Control structures</h2><h3 id=if-else>If-else</h3><p>Like most programming/scripting languages it supports if-else.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>if</span> $x &gt; <span style=color:#b48ead>0</span> <span style=color:#81a1c1>{</span> <span style=color:#a3be8c>&#39;positive&#39;</span> <span style=color:#81a1c1>}</span> else <span style=color:#81a1c1;font-weight:700>if</span> $x <span style=color:#81a1c1>==</span> <span style=color:#b48ead>0</span> <span style=color:#81a1c1>{</span> <span style=color:#a3be8c>&#39;zero&#39;</span> <span style=color:#81a1c1>}</span> else <span style=color:#81a1c1>{</span> <span style=color:#a3be8c>&#34;negative&#34;</span> <span style=color:#81a1c1>}</span>
</span></span></code></pre></div><h3 id=match>Match</h3><p>There are also <code>match</code> which resembles <em>case</em> in bash.</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>match</span> <span style=color:#b48ead>7</span> <span style=color:#81a1c1>{</span>
</span></span><span style=display:flex><span>    1 <span style=color:#81a1c1>=</span>&gt; <span style=color:#a3be8c>&#39;one&#39;</span>,
</span></span><span style=display:flex><span>    2 <span style=color:#81a1c1>=</span>&gt; <span style=color:#a3be8c>&#39;two&#39;</span>,
</span></span><span style=display:flex><span>    3 <span style=color:#81a1c1>=</span>&gt; <span style=color:#a3be8c>&#39;three&#39;</span>,
</span></span><span style=display:flex><span>    _ <span style=color:#81a1c1>=</span>&gt; <span style=color:#a3be8c>&#39;other number&#39;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1>}</span>
</span></span></code></pre></div><h3 id=loops>Loops</h3><p>There are a couple of different loops.</p><p><strong>For-in</strong></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>for</span> $item in <span style=color:#81a1c1>[</span><span style=color:#b48ead>1</span> <span style=color:#b48ead>2</span> <span style=color:#b48ead>3</span><span style=color:#81a1c1>]</span> <span style=color:#81a1c1>{</span> <span style=color:#81a1c1;font-weight:700>print</span> $item <span style=color:#81a1c1>}</span>
</span></span></code></pre></div><p><strong>Each</strong></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1>[</span><span style=color:#b48ead>1</span> <span style=color:#b48ead>2</span> <span style=color:#b48ead>3</span><span style=color:#81a1c1>]</span> <span style=color:#eceff4>|</span> <span style=color:#81a1c1;font-weight:700>each</span> <span style=color:#81a1c1>{</span> <span style=color:#81a1c1;font-weight:700>print</span> $in <span style=color:#81a1c1>}</span>
</span></span></code></pre></div><p><strong>While</strong></p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nu data-lang=nu><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>mut</span> x <span style=color:#81a1c1>=</span> <span style=color:#b48ead>0</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>while</span> $x &lt; <span style=color:#b48ead>10</span> <span style=color:#81a1c1>{</span> $x <span style=color:#81a1c1>=</span> $x + <span style=color:#b48ead>1</span> <span style=color:#81a1c1>}</span>
</span></span><span style=display:flex><span>$x
</span></span></code></pre></div><h2 id=outro>Outro</h2><p>This is just scratching the surface.
The Nu language can do much more than shown here.
If I were to cover it all, that would be a whole new Christmas calendar.</p><p>My first impression of Nu scripting language is that it feels a lot more modern
and consistent than bash.
It got features found in other popular languages, mixing ideas from imperative
and functional programming styles.</p></div></article></main><footer class=site-footer><div class=footer-content><div class=social-links><a href=/index.xml title=RSS rel="noopener noreferrer">rss</a></div><p class=footer-text>Â© 2025 LUG Esbjerg</p></div></footer></div><script src=/xmas-bashing/js/theme.min.676e5af9ed08ae050dc2a0576a038a9cf41cf92fb5f33872ef1073e9c0376404.js integrity="sha256-Z25a+e0IrgUNwqBXagOKnPQc+S+18zhy7xBz6cA3ZAQ="></script></body></html>